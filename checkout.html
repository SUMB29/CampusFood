<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Checkout</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Razorpay Checkout Script -->
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>
<body class="bg-gray-100 flex justify-center items-center min-h-screen">

  <div class="bg-white p-6 rounded-xl shadow-lg w-96 space-y-4">
    <h2 class="text-xl font-bold text-gray-700">Select Payment Method</h2>

    <!-- COD Form -->
    <form action="backend/process_cod.php" method="POST" class="space-y-3">
      <input type="hidden" name="payment_method" value="COD">
      <button type="submit" 
        class="w-full bg-green-600 text-white py-2 rounded-lg">
        Cash on Delivery
      </button>
    </form>

    <!-- Razorpay Button -->
    <button id="rzp-button" 
      class="w-full bg-blue-600 text-white py-2 rounded-lg">
      <a href="checkout.php">Pay with Razorpay</a>
    </button>
  </div>

  <script>
    // Razorpay Options
    var options = {
        "key": "rzp_test_1234567890abcdef", // ðŸ”‘ Replace with your Razorpay Key ID
        "amount": 50000, // = 500.00 INR (in paise)
        "currency": "INR",
        "name": "My Shop",
        "description": "Order Payment",
        "handler": function (response){
            // On success, send payment_id to PHP
            fetch("backend/process_razorpay.php", {
                method: "POST",
                headers: { "Content-Type": "application/x-www-form-urlencoded" },
                body: "payment_id=" + response.razorpay_payment_id
            })
            .then(res => res.text())
            .then(data => alert(data));
        },
        "theme": { "color": "#3399cc" }
    };

   
  </script>
</body>
</html>
